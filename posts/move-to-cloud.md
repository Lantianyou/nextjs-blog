---
title: 迁移到云
cover:
  image: 'cloud.jpg'
  description: ''
date: '2020-07-09'
author:
  name: '兰天游'    
  picture: ''
excerpt: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. At illum molestias esse possimus excepturi debitis aspernatur, nulla assumenda rem impedit in. Iusto accusamus quasi harum expedita explicabo rerum suscipit laboriosam?'
---

翻译自Andy Jassy访谈

Andy Jassy可能是科技界最神秘但位高权重的人物，他在22岁从哈佛商学院毕业后就加入了刚刚成立的亚马逊，随后担任AWS部门CEO。
AWS(Amazon Web Service)是世界第一的云平台，驱动了亚马逊和诸多客户的创新迭代。

## 公共部门业务

和十年前公共部门业务刚刚起步之时相比，我不敢相信今天能取得如此的成就。世界变化如此太快，我们起初根本没认识到政府，教育机构和非营利组织对云的有庞大的需求。

AWS成本更低并且从本质上改变用户体验，在全世界范围内，AWS有5000个政府组织，1万个学术机构和2万8000多家非营利组织作为客户。著名用户有JPL，NASA，澳大利亚统计局，英国NHS；哈佛，MIT，CMU和斯坦福；美国心脏病协会等等。另外，AWS仍然处在服务公共部门的起步阶段，业务增速迅猛。

## 团队

### 为什么AWS这么有创新力

首先，AWS建立了一个极为出色、理念一致、使命驱动的团队。这是因为AWS招聘极度偏向热衷发明，关注用户体验，对错误从不掩盖，主动寻求创新的“创造者”们。

很多科技公司的*用户体验*是在业务开发流程的结尾而不是开始，直到产品发布之后，才有人去负责用户体验，随后他们也不会持续关注下去。所以他们不能创造出意义非凡且经久不衰的产品。AWS总是满足用户需求，为他们进行持续迭代。

为了实现创新，AWS进行了团队*改革*。AWS早期有很多不同团队，负责产品一批人，负责工程一批人，负责运维一批人。结果总是互相推卸责任，产品怪开发速度慢，开发怪产品需求变化频繁等等。AWS把某个产品所需的所有支持人员组建成一个团队，推卸责任的问题一下就解决了。另外我发现一个秘密，如果让开发人员直接负责问题（而不是让产品团队转达），那么代码质量会显著提升。把所有人放在一个团队既减少推卸责任还增强主人翁意识(ownership)。所有人都被组织在一起，团队能把重心放在客户上，了解到紧迫需求，随之动态调整开发路线。

招创造者，组建团结一致的团队，为针对不同产品的团队，配备一样的必要科技。我觉得因为有亚马逊的存在，所以大家忽略了AWS的创新速度，实际上亚马逊过去12年里很多创新都是AWS支持的。

另外，我觉得团队变大以后领导层会变保守，手头事情已经这么多了为什么要开新的项目呢？所以很多会议的目的实际上是要否定新想法，并不是因为想法不好去否定，是因为手头
太忙或者害怕失败。Roy Disney曾把这称为制度性否定。亚马逊采取了完全相反的策略，我们选择*制度性肯定*，高管当然不可能批准所有的新想法，但是要非常努力地为新想法铺路引导。

最后，要以非常快的速度发明，实际上是有点自相矛盾的。因为亚马逊的员工都是非常厉害的，以结果导向的人，他们极度避免失败。但是我们必须非常努力地让他们明白某些发明必然会草草收场。比如说前几年发布的亚马逊手机，这个产品的失败实际上对亚马逊文化是个非常大的肯定。从投入和产出来评价，一个上市公司的产出是现金流，营收，利润等等，但是现实上并不能控制产出。因为产出是由投入决定，管理层团队主要的精力在于控制投入。

尽管关于手机的想法非常原始，和现实差距很大。项目的其他投入异常优秀，我们组建了一个非常厉害的团队，使用了非常复杂的科技，及时交付了产品。这个团队最后的人才都在亚马逊其他部门任职，应用他们开发的科技。

如果不从这个角度思考问题，那么很容易生产出一个自我实现的预言：所有优秀人才不敢从事高风险的新创意，如果做了会毁掉他们的职业生涯。

管理好输入，把优秀的人放在重要的工作上，失败的话让他们在其他产品上利用起之前开发的技术。当你有一个招聘“创造者”的文化且把他们组织到不同的团队，让他们对产品有很大的话语权，给予他们资源支持，让他们以低成本快速研发，让领导层尽力肯定新想法，建立容忍失败的文化。这样你组织里的每个层级的人都会开始产出创新的想法，因为大部分人喜欢创造发明。亚马逊的重要文化就是提出新想法并转化产品，全力提升客户体验。

## 客户

**AWS要如何帮助用户创新**？

大部分企业和公共部门的组织转移到云的最初原因是成本，把建立本地数据中心的资本支出折算成可变成本，云服务的可变成本比使用自己的服务器更低，此外还能在峰值弹性扩容。

尽管成本低是一个很重要的因素，但很多企业云服务上主要还是为了*速度*。传统的自建服务器为了试验新功能要10～18周才能获得服务器资源，有了服务器还要配套基础设施软件，比如数据库，硬盘，数据分析软件，机器学习平台，内容分发网络（CDN）等等。但是在云上情形十分不同，几分钟内就能获取起几千个服务器。AWS上有165个服务，可以按需搭配。客户能以快很多个数量级的速度实现想法。因为我们省去了很多客户配置服务器的时间，他们解放出来很多人来构思新想法，以前只有几个人能设计新产品，现在公司的每个层级的人都能做一些实验。周五晚上的决定下周就能上线，完全改变了很多组织内部创新的方式。

另外，我们从很早以前就开始在安全上做了很多工作，从AWS最早的五六年就对大规模投资安全。因为人们对安全，对数据的掌控很看重。你在AWS上的服务器，除非客户主动迁移，否则服务器永远在那；如果还有怀疑，那么还可以加密数据。除了摸不到服务器以外，其他级别的控制都能做到。过去6年里我们发现，安全是人们选择迁移到AWS或者其他云的最大障碍。但实际上把数据放在云上比放在本地更安全。因为我们对安全投入非常大，维护安全也非常专业。

还有，大型组织迁移到云最大的困难不是技术问题，实际上是文化问题。以我的经验来看，口头表示迁移到云和实际迁移到云的大型组织的有很大区别。

首先你必须要有一个高级领导层团队坚决支持迁移到云，惰性的力量异常强大，还要高层领导和员工统一思想，创建一个保持进度的机制。否则可能三个月过去了，还是没什么进展。

关于激进的战略有两个例子。比如通用电气的CIO曾经下令要在30天内把50个应用转移到AWS上。她的属下们花45分钟时间解释这为什么行不通。但是她依旧推行了计划，30天内迁移了42个应用。但在此过程中他们制定出了一个执行机制，如何应付安全，应付公司管理，应付合规，如何在云上运营。然后迁移越来越得心应手，现在他们已经走到了把全部9000多个应用迁移了2/3。

一个反例是某个欧洲医保公司，他们CIO一直想迁移到云，有一次他们CIO问我迁移进展如何？我说没什么进展，他说那是因为还在尝试阶段，我回答你们就有3个EC2实例。他手下表示还在尝试，还在考虑不同计划。如果没有激进的自上而下的计划，那么可能很多年的口号都难以落实。随后他们制定了激进的计划，现在成了我们医疗方面前三大的客户。

再有，就是培训员工使用云，即使管理层决定迁移云，全公司没什么人了解计划也难以执行。但云的概念很简单，我们每年都能培训几千人。

另外，迁移到云不一定直接从牵扯最多的陈旧服务入手，可以做一个宏观分析，把应用迁移难度分层，从最简单做起。然后人们感受到云的好处，于是加快迁移步伐，然后感受到的好处更多，形成正反馈。

云技术带来的转变是我们生平面临的最不寻常的转变。我们认为大部分组织不需要数据中心，他们的工作可以迁移到云上，即使有数据中心，规模也要比现在小很多。这种转变将持续很多年，为了方便各种组织一边用AWS一边继续维护本地的数据中心，我们建立了VPC和对云端数据存储的直接连接。让本地服务器和AWS的同时使用更为简单。我们和VMware在1年半以前联合发布了产品，让在本地使用VMware的客户在云上使用相同的接口。

我们光去年就交付了2000多项服务功能，这还只是外部能看到的。实际上去年可能开发了50000个服务，客户看不到。因为要让用户使用一致的界面，我们不想客户因为不同服务界面的不一致而感到沮丧。这个问题困扰了AWS很多年，于是我们创造了Outposts，我们还有reinvent大会和客户交流。去年11月在大会上交付了很多服务，让计算和数据库存储机器学习停留在本地，但控制界面，API，工具和AWS一样。不用连接云端，只有很低的延迟，但是还保证API和控制工具不变，和VPC很相似。

**为什么现在公共部门应该向云上迁移**？

因为世界变化太快，有那么多初创企业对存在很久的行业造成了极大的颠覆，比如Airbnb对住宿的颠覆，比如Pinterest对图片搜索的颠覆，比如Slack、Lyft和Uber等等。云服务能让你产品迭代速度更快。比如第一资本通过云把银行数字化，Netflix通过云改变娱乐业，像大众巴克莱银行也全都把应用发在云上。

## 科技

**AWS最受欢迎的科技是什么**？

### 容器化

在计算上，我认为在可见的将来越来越多的组织将使用更小的计算实例。所以容器将成为非常关键的科技。大部分组织都已经在管理kubernetes服务了。AWS对应的产品叫ECS，是我们在kubernetes变得非常通行的几年前开发成的。ECS以难以置信的速度增长。现在客户面有两种选择，如果他们非常看重和AWS平台其他服务的整合，可以直接用ECS，好处是可以无缝衔接我们的其他服务；如果非常看重kubernetes，因为kubernetes是开源的，那可以选择EKS。实际上EKS和AWS平台的整合也很好，但是要等待一段时间才能使用最新推出的服务。我们和许许多多的开源组织合作，共同来把对容器的畅想带进现实。

关于容器上，我们还能发现客户不是想在服务端客户端管理数据，而是想在任务层管理。任务层是更高一层的抽象，所以我们推出了Fargate，一个具有serverless容器能力的产品，增速也是难以置信的快。

就像我刚才说的，大部分组织已经开始管理kubernetes了。AWS有三种相关服务，所以很多人在AWS上管理容器和使用事件驱动型的serveless。我认为下一代开发者将不会在服务器和集群级别考虑问题，而是将直接开发serverless应用，比如lambda和相关的serverless的增速令人瞠目结舌。

#### 数据库

计算上是使用更小的计算单元，还有的科技是数据库的变革。

数据库的价格和过去二三十年完全不在一个数量级，很多开发者对此感叹不已。大部分人很不喜欢老的数据库解决方案，比如说甲骨文和甲骨文的服务器。他们又昂贵又是封闭的，设定以后很难改变，还要常常审计。人们实在是受够了，所以大家都以最快的速度向开源引擎比如MySQL、PostgreSQL和MongoDB转移。

要在开源数据库上实现和商业级传统数据库相同的性能表现要付出很多的努力，所以我们用了几年时间创造了Aurora，和MySQL，PostgreSQL100%兼容，在Aurora的两种版本（基于MySQL和PostgreSQL）都没有模型锁定。和商业级解决方案有同级的容错和可达性，但是只有1/10的成本。这是AWS历史上增速最快的服务，而且势头保持了几年。

有很多人从老的数据库迁移到Aurora。用关系型数据库解决所有业务问题的时代已经结束了，人们想找到不同的转为解决某种问题的数据库来解决特定问题。比如键值对存储有
DynamoDB，内存存储有Elastic Cache，图数据库有Neptune，我们还宣布重新发明了其他几种服务和时间序列数据库，时间流等等。今天的客户意识到他们要对不同的任务择正确的工具来节约资金和人力。

#### 物联网

本地和云混合，我认为十到二十年年后本地的服务将不全部迁移到云，那么本地就只剩下了设备。有几十亿上万亿的在我们家里、办公室、工厂、飞机、汽车、轮船和油田、农场的物联网设备。这些设备大部分只有很小的CPU和硬盘，于是为了支撑物联网，云就变的非常关键。

AWS开发了GreengrassIOT，让云端和物联网设备有完全相同的编程接口。者意味着开发者主要决定什么时候用云什么时候用本地设备，可以选择不用有网络延迟的本地计算；或者在云端运作大规模分析。因为现在数据收集规模变得很强，可以在云端选择预测算法，然后在这些设备本身运行。

#### 人工智能

我们的大多数客户并不知道如何用机器学习和人工智能优化他们的平时的任务或者事业，但他们对机器学习很感兴趣，我认为各种组织利用AI还比较原始。

我们在三个层面上思考这个问题，最底层的机器学习专家，那些善于利用框架搭建、训练、调试和部署模型的人。AWS支持所有框架的运行，AWS也有自己开发的框架MXNet，在比如推荐系统方面结果更好。

其实机器学习专家实际上现在非常少，我们在更上一层创建了Sage maker，帮助不熟悉机器学习的人进行数据可视化，挑选算法，训练数据，部署模型。普通开发者和数据科学家也能轻易使用，已经应用在几千个组织中。

最上层的是直接的AI服务，比如文字语音互相转换，翻译服务，自然语言处理，图像识别等等。比如客户想自动识别纸质表格，但是不用他亲自去写算法，直接调用我们的服务就可以。

我们在机器学习应用的这三个层面都做了非常大的投资。不仅如此，我们还为在建立适应未来的数据存储能力，AWS上有超过10000数据湖，和匹配的安全权限管理，分析工具和机器学习能力。

## 多云

**如何看待多云**？

表面上看起来大型组织会有两三个云服务商，实际上这么做的人很少，大部分人会选择一个主要的云服务商。这样能让他们有最小公倍数，另外云平台本身能力、生态系统和成熟度现在互相间差距很大。当从本地化平台转移到云，要求开发者不止熟悉一个云平台，还要熟悉多个平台具体情况。这个要求太高效率低下，既浪费人力又浪费资源。

另外，很多云平台都是用得越多越便宜，多云分散每个云平台的用量会提升成本。除非云平台和合作伙伴出现严重矛盾或者某个团队急需使用另一个平台的产品，那么会有一点多云。但是这是把流量以90/10甚至20/80在两个云平台分分配，而不是50/50
